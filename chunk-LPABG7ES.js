import{a as b,b as T}from"./chunk-OF7MEPLT.js";import{Ia as m,Oa as u,Pa as C,Ta as y,a as o,b as a,ba as n,fb as f,ja as p,jb as _,ka as g,kb as h,lb as L,mb as l,nb as c,pb as w,qb as x,rb as S,ta as d}from"./chunk-4S75Y5RT.js";function v(s,r){if(s&1){let e=w();l(0,"app-tag",3),x("click",function(){let t=p(e).$implicit,M=S();return g(M.toggleCategory(t.id))}),c()}if(s&2){let e=r.$implicit;f("appearance",e.selected?"primary":"outline")("tagName",e.name)}}var D=class s{categoryApi=n(b);isMultiSelect=d(!0);selectedCategoryList=C([]);categoryList=u([]);constructor(){this.categoryApi.fetchCategories().subscribe(r=>{this.categoryList.set(r.map(e=>a(o({},e),{selected:this.selectedCategoryList().some(i=>i.id===e.id)})))})}toggleCategory(r){this.categoryList.update(i=>this.isMultiSelect()?i.map(t=>t.id===r?a(o({},t),{selected:!t.selected}):t):i.map(t=>a(o({},t),{selected:t.id===r?!t.selected:!1})));let e=this.categoryList().filter(i=>i.selected).map(({id:i,name:t})=>({id:i,name:t}));this.selectedCategoryList.set(e)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=y({type:s,selectors:[["app-category-selector"]],inputs:{isMultiSelect:[1,"isMultiSelect"],selectedCategoryList:[1,"selectedCategoryList"]},outputs:{selectedCategoryList:"selectedCategoryListChange"},decls:4,vars:0,consts:[[1,"h-full","bg-white","border","rounded-lg"],[1,"flex","flex-wrap","gap-2","p-2"],["size","s",1,"inline-flex","w-auto","cursor-pointer",3,"appearance","tagName"],["size","s",1,"inline-flex","w-auto","cursor-pointer",3,"click","appearance","tagName"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1),h(2,v,1,2,"app-tag",2,_),c()()),e&2&&(m(2),L(i.categoryList()))},dependencies:[T],styles:["[_nghost-%COMP%]{height:100%;flex-grow:1}"]})};export{D as a};
