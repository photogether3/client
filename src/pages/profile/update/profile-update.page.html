<div class="flex flex-col min-h-screen bg-secondary5 border-x">
  <!-- header -->
  <header class="sticky top-0 z-10 flex items-center w-full gap-3 px-4 py-5 bg-white border-b shadow-sm">
    <button class="text-xl font-bold"><</button>
    <span class="text-xl font-bold">프로필 수정</span>
  </header>

  <div class="flex flex-col flex-1 w-full gap-5 px-4 py-6">
    <div class="relative mx-auto w-fit">
      <img [src]="profileUpdateForm.value.file" alt="사용자 프로필 이미지" class="block mx-auto bg-white rounded-full h-28 w-28" />
      <button (click)="fileInput.click()" class="absolute bottom-0 right-0 w-12 h-12 bg-white border rounded-full hover:bg-blue-500">+</button>
      <input #fileInput type="file" accept="image/*" (change)="onFileSelected($event)" hidden />
    </div>

    <form [formGroup]="profileUpdateForm">
      <div class="flex flex-col">
        <label for="nickname">닉네임</label>
        <input type="text" formControlName="nickname" />
      </div>
      <div class="flex flex-col">
        <label for="nickname">자기소개</label>
        <textarea formControlName="bio" rows="10" class="p-2 border border-black rounded-lg resize-none"></textarea>
      </div>
    </form>

    <div class="flex gap-2">
      @for (tag of categoryArray.value; track $index) {
        <app-tag [tagName]="tag.name" appearance="outline" size="s" />
      }
    </div>

    {{ profileUpdateForm.value | json }}

    <div class="flex flex-col gap-2">
      <app-button text="관심태그 변경" width="full" (click)="updateCategory()" class="w-full" />
      <app-button text="프로필 편집 완료" width="full" (click)="updateProfile()" class="w-full" />
    </div>
  </div>

  <!-- footer -->
  <app-footer class="sticky bottom-0 mt-auto" />
</div>
