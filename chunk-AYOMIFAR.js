import{a as I}from"./chunk-7KJGLARE.js";import{a as M}from"./chunk-IZOR5LZS.js";import{a as z}from"./chunk-WLREW4AM.js";import{a as L}from"./chunk-QZQ57QC5.js";import{p as S}from"./chunk-MJMJ6QEK.js";import{a as H,b as N}from"./chunk-OF7MEPLT.js";import{d as F,f as _,s as v}from"./chunk-PWXOGFPV.js";import{Ab as w,B as A,Db as P,Ea as k,Eb as U,Ia as r,R as T,Ta as C,U as D,Za as s,ba as p,fb as a,ib as d,jb as f,kb as g,lb as y,mb as n,nb as l,ob as c,qb as h,rb as u,ta as E,x as b,yb as m,zb as B}from"./chunk-4S75Y5RT.js";var W=(t,e)=>({"grid grid-cols-2":t,"grid grid-cols-2 grid-rows-2":e}),q=t=>({"row-span-full":t});function G(t,e){if(t&1&&c(0,"img",2),t&2){let o=e.$implicit,i=e.$index;a("src",o,k)("ngClass",P(2,q,i===1))}}function J(t,e){if(t&1&&c(0,"app-tag",4),t&2){let o,i=u();a("tagName",((o=i.post().category)==null?null:o.name)||"")("appearance","primary")}}var x=class t{post=E.required();router=p(v);constructor(){}goPage(){if(this.router.url.includes("home"))this.router.navigateByUrl("collection/"+this.post().id);else return}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=C({type:t,selectors:[["app-collection-card"]],inputs:{post:[1,"post"]},decls:10,vars:7,consts:[[1,"relative","h-[140px]","overflow-hidden","rounded-[12px]","bg-white","shadow-md","hover:cursor-pointer","hover:shadow-xl",3,"click"],[1,"h-full","w-full","rounded-[12px]","blur-[2px]",3,"ngClass"],[1,"object-cover","w-full","h-full",3,"src","ngClass"],[1,"absolute","text-black","left-1","top-1/3"],[3,"tagName","appearance"],[1,"font-bold"],[1,"text-sm"]],template:function(o,i){o&1&&(n(0,"section",0),h("click",function(){return i.goPage()}),n(1,"div",1),g(2,G,1,4,"img",2,f),l(),n(4,"div",3),s(5,J,1,2,"app-tag",4),n(6,"h4",5),m(7),l(),n(8,"span",6),m(9),l()()()),o&2&&(r(),a("ngClass",U(4,W,i.post().imageUrls.length===2,i.post().imageUrls.length===3)),r(),y(i.post().imageUrls),r(3),d(i.post().type==="DEFAULT"?5:-1),r(2),B(i.post().title),r(2),w("",i.post().imageUrls.length,"\uAC1C \uC0AC\uC9C4"))},dependencies:[_,F,N],encapsulation:2})};function Z(t,e){if(t&1&&c(0,"app-collection-card",4),t&2){let o=e.$implicit;a("post",o)}}function K(t,e){t&1&&(n(0,"div",5),m(1,"\uC0DD\uC131\uB41C \uC0AC\uC9C4\uCCA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4!"),l())}function Q(t,e){if(t&1&&c(0,"app-collection-card",4),t&2){let o=u();a("post",o.myCollections.uncategorized)}}function V(t,e){if(t&1&&c(0,"app-collection-card",4),t&2){let o=u();a("post",o.myCollections.trash)}}var O=class t{nickname="";collectionList=[];router=p(v);userApi=p(I);categoryApi=p(H);collectionApi=p(M);get myCollections(){return{default:this.collectionList.filter(e=>e.type==="DEFAULT"),uncategorized:this.collectionList.find(e=>e.type==="UNCATEGORIZED"),trash:this.collectionList.find(e=>e.type==="TRASH")}}constructor(){}ngOnInit(){this.categoryApi.fetchFavCategories().pipe(D(e=>{console.log(e),e.length===0&&this.router.navigateByUrl("/onboarding")}),A(e=>e.length>0),T(()=>b({profile:this.userApi.getProfile(),collections:this.collectionApi.getCollections()}))).subscribe(({profile:e,collections:o})=>{this.nickname=e.nickname,this.collectionList=o.items})}createCollection(){this.router.navigateByUrl("collection/create")}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=C({type:t,selectors:[["home-page"]],decls:17,vars:4,consts:[[1,"flex","flex-col","min-h-screen","border-x","bg-secondary5"],[3,"title"],[1,"flex","flex-col","flex-grow","gap-4","px-4","py-4"],[1,"grid","grid-cols-2","gap-3"],[3,"post"],[1,"col-span-full","h-[140px]","rounded-[12px]","border","border-black","bg-white","p-4"],["text","\uC0AC\uC9C4\uCCA9 \uC0DD\uC131\uD558\uAE30","appearance","secondary",1,"col-span-full",3,"click"],[1,"font-bold"],[1,"sticky","bottom-0","mt-auto"]],template:function(o,i){o&1&&(n(0,"div",0),c(1,"app-header",1),n(2,"main",2)(3,"div",3),g(4,Z,1,1,"app-collection-card",4,f,!1,K,2,0,"div",5),n(7,"app-button",6),h("click",function(){return i.createCollection()}),l()(),n(8,"section")(9,"h4",7),m(10,"\uBBF8\uBD84\uB958"),l(),s(11,Q,1,1,"app-collection-card",4),l(),n(12,"section")(13,"h4",7),m(14,"\uD734\uC9C0\uD1B5"),l(),s(15,V,1,1,"app-collection-card",4),l()(),c(16,"app-footer",8),l()),o&2&&(r(),a("title",i.nickname+"\uC758 \uC0AC\uC9C4\uCCA9"),r(3),y(i.myCollections.default),r(7),d(i.myCollections.uncategorized?11:-1),r(4),d(i.myCollections.trash?15:-1))},dependencies:[z,x,S,_,L],encapsulation:2})};export{x as a,O as b};
