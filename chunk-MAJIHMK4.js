import{a as b}from"./chunk-7KJGLARE.js";import{p as c}from"./chunk-MJMJ6QEK.js";import{a as g}from"./chunk-OF7MEPLT.js";import{Ta as s,ba as i,fb as l,mb as f,nb as m,qb as d,sa as u,ta as r,x as a}from"./chunk-4S75Y5RT.js";var y=class n{categoryApi=i(g);userApi=i(b);form=r.required();buttonText=r("");handleButton=u();updateProfile(){let{nickname:o,bio:t,file:e,categoryIds:p,categories:h}=this.form().value,v={nickname:o,bio:t,file:e},B={categoryIds:p??h.map(P=>P.id)};a({profile:this.userApi.updateProfile(v),favCategories:this.categoryApi.updateFavCategories(B)}).subscribe(()=>{this.handleButton.emit()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=s({type:n,selectors:[["app-profile-update-button"]],inputs:{form:[1,"form"],buttonText:[1,"buttonText"]},outputs:{handleButton:"handleButton"},decls:1,vars:1,consts:[[3,"click","text"]],template:function(t,e){t&1&&(f(0,"app-button",0),d("click",function(){return e.updateProfile()}),m()),t&2&&l("text",e.buttonText())},dependencies:[c],encapsulation:2})};export{y as a};
