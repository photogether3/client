import{a as z}from"./chunk-WM6SSQJR.js";import"./chunk-ZWZ4B73B.js";import{a as F}from"./chunk-7KJGLARE.js";import"./chunk-LPABG7ES.js";import"./chunk-KXLXBALE.js";import{a as O}from"./chunk-WLREW4AM.js";import{a as N}from"./chunk-QZQ57QC5.js";import{o as V,p as U}from"./chunk-MJMJ6QEK.js";import"./chunk-LCXEAPVZ.js";import{a as I,b as G}from"./chunk-OF7MEPLT.js";import"./chunk-ES77FXIX.js";import{e as S,f as T}from"./chunk-5BF4NUEH.js";import{s as E}from"./chunk-PWXOGFPV.js";import{Ab as g,Ea as b,Ia as r,Ta as P,Za as v,a as _,b as x,ba as u,fb as C,ib as D,ja as s,jb as h,ka as m,kb as k,lb as y,mb as i,nb as t,ob as d,pb as B,qb as f,rb as a,x as w,yb as p,zb as A}from"./chunk-4S75Y5RT.js";function L(o,l){if(o&1&&d(0,"app-tag",11),o&2){let e=l.$implicit;C("tagName",e.name)}}function W(o,l){if(o&1){let e=B();d(0,"app-header",2),i(1,"div",3),d(2,"img",4),i(3,"div")(4,"span",5),p(5),t(),i(6,"span",6),p(7),t()(),i(8,"div",7)(9,"span",8)(10,"span",9),p(11,"\uC774\uBA54\uC77C |"),t(),p(12),t(),i(13,"p")(14,"span",9),p(15,"\uC790\uAE30\uC18C\uAC1C | "),t(),p(16),t()(),i(17,"div",10),k(18,L,1,1,"app-tag",11,h),t(),i(20,"div",12)(21,"app-button",13),f("click",function(){s(e);let n=a();return m(n.goUpdatePage())}),t(),i(22,"app-button",14),f("click",function(){s(e);let n=a();return m(n.onLogout())}),t(),i(23,"app-button",15),f("click",function(){s(e);let n=a();return m(n.updatePassword())}),t(),i(24,"app-button",16),f("click",function(){s(e);let n=a();return m(n.reset())}),t(),i(25,"app-button",17),f("click",function(){s(e);let n=a();return m(n.withdraw())}),t()()()}if(o&2){let e=a();r(2),C("src",e.profile.imageUrl||"assets/images/default-image.webp",b),r(3),A(e.profile.nickname),r(2),g("@",e.profile.email.split("@")[0],""),r(5),g(" ",e.profile.email," "),r(4),g(" ",e.profile.bio," "),r(2),y(e.profile.tags)}}var M=class o{profile=void 0;router=u(E);modalService=u(V);authApi=u(S);userApi=u(F);categoryApi=u(I);constructor(){w({profile:this.userApi.getProfile(),tags:this.categoryApi.fetchFavCategories()}).subscribe(({profile:l,tags:e})=>{this.profile=x(_({},l),{tags:e}),console.log(this.profile)})}updatePassword(){this.modalService.open(z)}onLogout(){this.authApi.logout().subscribe(()=>{T.getInstance().clear(),this.router.navigateByUrl("login")})}goUpdatePage(){this.router.navigateByUrl("/profile/update")}reset(){alert("\uAE30\uB2A5 \uAC1C\uBC1C\uC911 ..")}withdraw(){alert("\uAE30\uB2A5 \uAC1C\uBC1C\uC911 ...")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["profile-page"]],decls:3,vars:1,consts:[[1,"flex","flex-col","min-h-screen","border-x","bg-secondary5"],[1,"sticky","bottom-0","mt-auto"],["title","\uB0B4 \uD504\uB85C\uD544 \uC870\uD68C"],[1,"flex","flex-col","flex-1","w-full","gap-5","px-4","py-6"],["alt","\uD504\uB85C\uD544 \uC784\uC2DC \uC774\uBBF8\uC9C0",1,"block","mx-auto","bg-white","border","rounded-full","size-28",3,"src"],[1,"block","text-lg","font-bold","text-center"],[1,"block","text-sm","text-center","text-gray-600"],[1,"text-sm"],[1,"block"],[1,"inline-block","mr-4","font-semibold"],[1,"flex","gap-2"],["appearance","outline","size","s",3,"tagName"],[1,"flex","flex-col","gap-2"],["text","\uD504\uB85C\uD544 \uC218\uC815","width","full",1,"w-full",3,"click"],["text","\uB85C\uADF8\uC544\uC6C3","width","full",1,"w-full",3,"click"],["text","\uBE44\uBC00\uBC88\uD638 \uBCC0\uACBD","width","full",1,"w-full",3,"click"],["text","\uAE30\uB85D \uCD08\uAE30\uD654","width","full",1,"w-full",3,"click"],["text","\uD68C\uC6D0\uD0C8\uD1F4","appearance","secondary","width","full",1,"w-full",3,"click"]],template:function(e,c){e&1&&(i(0,"div",0),v(1,W,26,5),d(2,"app-footer",1),t()),e&2&&(r(),D(c.profile?1:-1))},dependencies:[G,U,O,N],encapsulation:2})};export{M as ProfilePage};
