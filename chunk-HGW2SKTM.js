import{a as I}from"./chunk-L7WU3QFJ.js";import{a as A}from"./chunk-IZOR5LZS.js";import{a as D}from"./chunk-WLREW4AM.js";import{a as F}from"./chunk-QZQ57QC5.js";import{q as x}from"./chunk-MJMJ6QEK.js";import{q as h,s as _}from"./chunk-PWXOGFPV.js";import{Ia as m,Nb as b,Oa as d,Ta as u,Za as g,ba as i,fb as C,ib as f,ja as p,ka as s,mb as n,nb as c,ob as r,pb as y,qb as v,rb as a}from"./chunk-4S75Y5RT.js";function R(o,t){if(o&1){let e=y();n(0,"app-collection-form",4),v("submitForm",function(U){p(e);let P=a();return s(P.updateCollection(U))}),c()}if(o&2){let e=a();C("title",e.collection().title)("category",e.collection().category)}}var T=class o{collectionId;collection=d(null);isCollectionLoaded=b(()=>this.collection()!==null);route=i(h);collectionApi=i(A);modalReactiveService=i(x);router=i(_);constructor(){this.collectionId=this.route.snapshot.paramMap.get("id"),this.collectionApi.getCollection(this.collectionId).subscribe(t=>{!t||!t.category||this.collection.set({title:t.title,category:t.category})})}updateCollection(t){let e=t.getRawValue();this.collectionId&&this.collectionApi.updateCollection(this.collectionId,e).subscribe(()=>{let l={title:"\uC0AC\uC9C4\uCCA9 \uC218\uC815 \uC644\uB8CC",subTitle:"\uC0AC\uC9C4\uCCA9 \uC218\uC815\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",content:"\uD655\uC778 \uBC84\uD2BC\uC744 \uB204\uB974\uC2DC\uBA74 \uD648\uD654\uBA74\uC73C\uB85C \uB3CC\uC544\uAC11\uB2C8\uB2E4. \uD655\uC778\uBC84\uD2BC\uC744 \uB20C\uB7EC\uC8FC\uC138\uC694.",buttons:["\uD655\uC778"]};this.modalReactiveService.open(l).subscribe(()=>{this.router.navigateByUrl("/home")})})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-collection-update"]],decls:4,vars:1,consts:[[1,"flex","flex-col","min-h-screen","border-x","bg-secondary5"],["title","\uC0AC\uC9C4\uCCA9 \uC218\uC815"],["mode","update",3,"title","category"],[1,"sticky","bottom-0","mt-auto"],["mode","update",3,"submitForm","title","category"]],template:function(e,l){e&1&&(n(0,"div",0),r(1,"app-header",1),g(2,R,1,2,"app-collection-form",2),r(3,"app-footer",3),c()),e&2&&(m(2),f(l.isCollectionLoaded()?2:-1))},dependencies:[D,I,F],encapsulation:2})};export{T as a};
