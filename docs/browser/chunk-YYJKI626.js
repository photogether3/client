import{a as O}from"./chunk-SCC7YKHJ.js";import"./chunk-YHCOF5QW.js";import"./chunk-ZWZ4B73B.js";import{a as N}from"./chunk-4GZSFRTA.js";import{a as U}from"./chunk-QHM3H5ES.js";import"./chunk-NLQUPEL3.js";import{a as M}from"./chunk-5ZBA7CN6.js";import{a as V,b as F,d as I}from"./chunk-GAMVPAQP.js";import{Aa as A,Ba as g,D as u,G as s,H as m,T as b,U as l,_a as B,a as C,aa as P,b as _,ea as v,hb as S,ia as x,ib as T,l as w,la as D,ma as h,na as k,oa as y,pa as i,qa as t,ra as f,sa as E,ta as d,ua as p,za as o}from"./chunk-LFJQS5LE.js";function L(r,a){if(r&1&&f(0,"app-tag",12),r&2){let e=a.$implicit;x("tagName",e.name)}}function j(r,a){if(r&1){let e=E();i(0,"header",2)(1,"button",3),o(2,"<"),t(),i(3,"span",3),o(4,"\uB0B4 \uD504\uB85C\uD544 \uC870\uD68C"),t()(),i(5,"div",4),f(6,"img",5),i(7,"div")(8,"span",6),o(9),t(),i(10,"span",7),o(11),t()(),i(12,"div",8)(13,"span",9)(14,"span",10),o(15,"\uC774\uBA54\uC77C |"),t(),o(16),t(),i(17,"p")(18,"span",10),o(19,"\uC790\uAE30\uC18C\uAC1C | "),t(),o(20),t()(),i(21,"div",11),k(22,L,1,1,"app-tag",12,h),t(),i(24,"div",13)(25,"app-button",14),d("click",function(){s(e);let n=p();return m(n.goUpdatePage())}),t(),i(26,"app-button",15),d("click",function(){s(e);let n=p();return m(n.onLogout())}),t(),i(27,"app-button",16),d("click",function(){s(e);let n=p();return m(n.updatePassword())}),t(),i(28,"app-button",17),d("click",function(){s(e);let n=p();return m(n.reset())}),t(),i(29,"app-button",18),d("click",function(){s(e);let n=p();return m(n.withdraw())}),t()()()}if(r&2){let e=p();l(6),x("src",e.profile.image,b),l(3),A(e.profile.nickname),l(2),g("@",e.profile.email.split("@")[0],""),l(5),g(" ",e.profile.email," "),l(4),g(" ",e.profile.bio," "),l(2),y(e.profile.tags)}}var z=class r{profile=void 0;router=u(B);modalService=u(V);authApi=u(S);userApi=u(N);categoryApi=u(U);constructor(){w({profile:this.userApi.getProfile(),tags:this.categoryApi.fetchFavCategories()}).subscribe(({profile:a,tags:e})=>{this.profile=_(C({},a),{image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQHe6hYgyoH_DbL5N_2MWuG3jEwtw2lD7N4Zw&s",tags:e})})}updatePassword(){this.modalService.open(O)}onLogout(){this.authApi.logout().subscribe(()=>{T.getInstance().clear(),this.router.navigateByUrl("login")})}goUpdatePage(){this.router.navigateByUrl("/profile/update")}reset(){alert("\uAE30\uB2A5 \uAC1C\uBC1C\uC911 ..")}withdraw(){alert("\uAE30\uB2A5 \uAC1C\uBC1C\uC911 ...")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=P({type:r,selectors:[["profile-page"]],decls:3,vars:1,consts:[[1,"flex","flex-col","min-h-screen","bg-secondary5","border-x"],[1,"sticky","bottom-0","mt-auto"],[1,"sticky","top-0","z-10","flex","items-center","w-full","gap-3","px-4","py-5","bg-white","border-b","shadow-sm"],[1,"text-xl","font-bold"],[1,"flex","flex-col","flex-1","w-full","gap-5","px-4","py-6"],["alt","\uD504\uB85C\uD544 \uC784\uC2DC \uC774\uBBF8\uC9C0",1,"block","mx-auto","rounded-full","h-28","w-28",3,"src"],[1,"block","text-lg","font-bold","text-center"],[1,"block","text-sm","text-center","text-gray-600"],[1,"text-sm"],[1,"block"],[1,"inline-block","mr-4","font-semibold"],[1,"flex","gap-2"],["appearance","outline","size","s",3,"tagName"],[1,"flex","flex-col","gap-2"],["text","\uD504\uB85C\uD544 \uC218\uC815","width","full",1,"w-full",3,"click"],["text","\uB85C\uADF8\uC544\uC6C3","width","full",1,"w-full",3,"click"],["text","\uBE44\uBC00\uBC88\uD638 \uBCC0\uACBD","width","full",1,"w-full",3,"click"],["text","\uAE30\uB85D \uCD08\uAE30\uD654","width","full",1,"w-full",3,"click"],["text","\uD68C\uC6D0\uD0C8\uD1F4","appearance","secondary","width","full",1,"w-full",3,"click"]],template:function(e,c){e&1&&(i(0,"div",0),v(1,j,30,5),f(2,"app-footer",1),t()),e&2&&(l(),D(c.profile?1:-1))},dependencies:[I,F,M],encapsulation:2})};export{z as ProfilePage};
