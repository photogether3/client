import{a as k}from"./chunk-YHCOF5QW.js";import{a as P}from"./chunk-ZWZ4B73B.js";import{a as T}from"./chunk-4GZSFRTA.js";import{b as B,c as m,d as R,e as A,f as _,g as f,h as w,i as b,k as M,n as N}from"./chunk-NLQUPEL3.js";import{b as S}from"./chunk-GAMVPAQP.js";import{$a as D,Aa as g,D as u,U as s,_a as v,aa as c,ea as d,hb as y,ia as F,la as p,pa as i,qa as o,ra as l,ta as h,ua as C,za as n}from"./chunk-LFJQS5LE.js";function G(t,r){t&1&&(i(0,"span",2),n(1," \uB85C\uB529\uC911 .. "),o())}function I(t,r){if(t&1&&(i(0,"p",3),n(1),o()),t&2){let e=C();s(),g(e.getErrorMessage("email"))}}function O(t,r){if(t&1&&(i(0,"p",3),n(1),o()),t&2){let e=C();s(),g(e.getErrorMessage("password"))}}function j(t,r){if(t&1&&(i(0,"p",3),n(1),o()),t&2){let e=C();s(),g(e.getErrorMessage("confirmPassword"))}}var x=class t{signUpForm;authApi=u(y);userApi=u(T);router=u(v);customValidators=u(k);errorMessages={email:{required:"\uC774\uBA54\uC77C\uC740 \uD544\uC218\uC785\uB2C8\uB2E4.",email:"\uC720\uD6A8\uD55C \uC774\uBA54\uC77C \uD615\uC2DD\uC774 \uC544\uB2D9\uB2C8\uB2E4.",duplicateEmail:"\uC0AC\uC6A9 \uC911\uC778 \uC774\uBA54\uC77C\uC785\uB2C8\uB2E4."},password:{required:"\uBE44\uBC00\uBC88\uD638\uB294 \uD544\uC218\uC785\uB2C8\uB2E4.",pattern:"\uBE44\uBC00\uBC88\uD638\uB294 8~15\uC790\uC774\uBA70, \uC22B\uC790, \uC601\uBB38\uC790, \uD2B9\uC218\uBB38\uC790\uB97C \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4."},confirmPassword:{required:"\uBE44\uBC00\uBC88\uD638 \uD655\uC778\uC740 \uD544\uC218\uC785\uB2C8\uB2E4.",passwordMismatch:"\uBE44\uBC00\uBC88\uD638\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."}};constructor(){this.signUpForm=new _({email:new f("",{validators:[m.required,m.email],asyncValidators:[this.customValidators.checkDuplicateEmail(r=>this.userApi.checkDuplicatedEmail(r))],updateOn:"change",nonNullable:!0}),password:new f("",{validators:[m.required,m.pattern(P)],updateOn:"change",nonNullable:!0}),confirmPassword:new f("",{validators:[m.required],asyncValidators:[this.customValidators.checkPasswordMatch()],updateOn:"change",nonNullable:!0})})}onRegister(){let r=this.signUpForm.getRawValue();this.authApi.register(r).subscribe(()=>{this.router.navigateByUrl("/otp/verify",{state:{email:r.email}})})}getErrorMessage(r){let e=this.signUpForm.get(r);if(e?.invalid){if(e.hasError("required")&&!e.touched)return null;let a=Object.keys(e.errors||{})[0];return this.errorMessages[r][a]||null}return null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-register-form"]],decls:9,vars:6,consts:[[1,"flex","flex-col","h-full","gap-2",3,"formGroup"],["type","text","formControlName","email","placeholder","\uC774\uBA54\uC77C(example@gmail.com)"],[1,"ml-1"],[1,"ml-1","text-xs","text-red-600"],["type","password","formControlName","password","placeholder","\uBE44\uBC00\uBC88\uD638"],["type","password","formControlName","confirmPassword","placeholder","\uBE44\uBC00\uBC88\uD638 \uD655\uC778"],["text","\uAC00\uC785\uD558\uAE30",3,"click","isDisabled"]],template:function(e,a){if(e&1&&(i(0,"form",0),l(1,"input",1),d(2,G,2,0,"span",2)(3,I,2,1,"p",3),l(4,"input",4),d(5,O,2,1,"p",3),l(6,"input",5),d(7,j,2,1,"p",3),i(8,"app-button",6),h("click",function(){return a.onRegister()}),o()()),e&2){let E;F("formGroup",a.signUpForm),s(2),p((E=a.signUpForm.get("email"))!=null&&E.pending?2:-1),s(),p(a.getErrorMessage("email")?3:-1),s(2),p(a.getErrorMessage("password")?5:-1),s(2),p(a.getErrorMessage("confirmPassword")?7:-1),s(),F("isDisabled",a.signUpForm.invalid)}},dependencies:[N,w,B,R,A,b,M,S],encapsulation:2})};var V=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["register-page"]],decls:12,vars:0,consts:[[1,"flex","flex-col","min-h-screen","gap-5","px-4","pt-10","bg-secondary5"],[1,"text-3xl","font-bold"],[1,"mt-1"],["routerLink","/login",1,"text-blue-600"]],template:function(e,a){e&1&&(i(0,"section",0)(1,"div")(2,"h1",1),n(3,"\uC0AC\uC9C4\uCCA9 \uB35C\uC5B4\uB0B4\uAE30"),o(),i(4,"p",2),n(5,'\uCEA1\uCCD0\uC0AC\uC9C4 "\uC0AC\uC9C4\uCCA9 \uB35C\uC5B4\uB0B4\uAE30"\uB97C \uD1B5\uD574 \uC815\uB9AC\uD574\uBCF4\uC138\uC694! \u{1F9F9}'),o()(),l(6,"app-register-form"),i(7,"p"),n(8," \uACC4\uC815\uC774 \uC788\uC73C\uC2E0\uAC00\uC694? "),i(9,"a",3),n(10,"\uB85C\uADF8\uC778 \uD398\uC774\uC9C0"),o(),n(11,"\uB85C \uC774\uB3D9\uD558\uAE30 "),o()())},dependencies:[D,x],encapsulation:2})};export{V as RegisterPage};
