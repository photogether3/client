import{a as T}from"./chunk-ZWZ4B73B.js";import{b as B,c as m,d as b,e as A,f as L,g as F,h as _,i as w,k as S,n as M}from"./chunk-NLQUPEL3.js";import{b as N}from"./chunk-GAMVPAQP.js";import{$a as D,Aa as x,D as c,U as l,_a as y,aa as s,ea as g,hb as E,ia as d,ib as v,la as C,pa as n,qa as r,ra as u,ta as h,ua as f,za as a}from"./chunk-LFJQS5LE.js";function P(t,o){if(t&1&&(n(0,"p",2),a(1),r()),t&2){let e=f();l(),x(e.getErrorMessage("email"))}}function q(t,o){if(t&1&&(n(0,"p",2),a(1),r()),t&2){let e=f();l(),x(e.getErrorMessage("password"))}}var p=class t{loginForm;authApi=c(E);router=c(y);errorMessages={email:{required:"\uC774\uBA54\uC77C\uC740 \uD544\uC218\uC785\uB2C8\uB2E4.",email:"\uC720\uD6A8\uD55C \uC774\uBA54\uC77C \uD615\uC2DD\uC774 \uC544\uB2D9\uB2C8\uB2E4."},password:{required:"\uBE44\uBC00\uBC88\uD638\uB294 \uD544\uC218\uC785\uB2C8\uB2E4.",pattern:"\uBE44\uBC00\uBC88\uD638\uB294 8~15\uC790\uC774\uBA70, \uC22B\uC790, \uC601\uBB38\uC790, \uD2B9\uC218\uBB38\uC790\uB97C \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4."}};constructor(){this.loginForm=new L({email:new F("",{validators:[m.required,m.email],updateOn:"change",nonNullable:!0}),password:new F("",{validators:[m.required,m.pattern(T)],updateOn:"change",nonNullable:!0})})}onLogin(){let o=this.loginForm.getRawValue();this.authApi.login(o).subscribe(e=>{e?(alert("\uB85C\uADF8\uC778 \uC131\uACF5! \u2728"),v.getInstance().store(e),this.router.navigateByUrl("/home")):alert("\uB85C\uADF8\uC778 \uC2E4\uD328 \u{1F625}")})}getErrorMessage(o){let e=this.loginForm.get(o);if(e?.invalid){if(e.hasError("required")&&!e.touched)return null;let i=Object.keys(e.errors||{})[0];return this.errorMessages[o][i]||null}return null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-login-form"]],decls:6,vars:4,consts:[[1,"flex","flex-col","h-full","gap-2",3,"formGroup"],["type","text","formControlName","email","placeholder","\uC774\uBA54\uC77C(example@gmail.com)"],[1,"ml-1","text-xs","text-red-600"],["type","password","formControlName","password","placeholder","\uBE44\uBC00\uBC88\uD638"],["text","\uB85C\uADF8\uC778",3,"click","isDisabled"]],template:function(e,i){e&1&&(n(0,"form",0),u(1,"input",1),g(2,P,2,1,"p",2),u(3,"input",3),g(4,q,2,1,"p",2),n(5,"app-button",4),h("click",function(){return i.onLogin()}),r()()),e&2&&(d("formGroup",i.loginForm),l(2),C(i.getErrorMessage("email")?2:-1),l(2),C(i.getErrorMessage("password")?4:-1),l(),d("isDisabled",i.loginForm.invalid))},dependencies:[M,_,B,b,A,w,S,N],encapsulation:2})};var k=class t{constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["login-page"]],decls:11,vars:0,consts:[[1,"flex","flex-col","min-h-screen","gap-5","px-4","py-5","bg-secondary5"],[1,"mb-10"],[1,"text-3xl","font-bold"],[1,"mt-1"],["href","/find-password",1,"text-sm","text-center","text-gray-400","underline"],["routerLink","/register",1,"mt-auto","block","rounded-[10px]","bg-blue-500","px-5","py-[10px]","text-center","text-white","disabled:bg-opacity-50"]],template:function(e,i){e&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),a(3,"\uC0AC\uC9C4\uCCA9 \uB35C\uC5B4\uB0B4\uAE30"),r(),n(4,"p",3),a(5,'\uCEA1\uCCD0\uC0AC\uC9C4 "\uC0AC\uC9C4\uCCA9 \uB35C\uC5B4\uB0B4\uAE30"\uB97C \uD1B5\uD574 \uC815\uB9AC\uD574\uBCF4\uC138\uC694! \u{1F9F9}'),r()(),u(6,"app-login-form"),n(7,"a",4),a(8,"\uBE44\uBC00\uBC88\uD638 \uCC3E\uAE30"),r(),n(9,"a",5),a(10,"\uC774\uBA54\uC77C \uD68C\uC6D0\uAC00\uC785"),r()())},dependencies:[D,p],encapsulation:2})};export{k as LoginPage};
