import{a as L}from"./chunk-4GZSFRTA.js";import{a as J}from"./chunk-QHM3H5ES.js";import{b as O,d as P,e as N,h as T,i as V,k as I,m as G,n as M}from"./chunk-NLQUPEL3.js";import{b as j,d as z}from"./chunk-GAMVPAQP.js";import{Aa as v,Ba as A,D as c,Fa as E,G as m,Ga as S,H as s,Qa as h,Ra as k,U as l,_ as b,_a as w,aa as _,ea as x,ia as f,la as y,ma as B,na as D,oa as F,pa as n,qa as t,ra as d,sa as g,ta as p,ua as C,za as o}from"./chunk-LFJQS5LE.js";function $(a,i){if(a&1){let e=g();n(0,"div")(1,"p",4),o(2,"\uB0B4 \uC815\uBCF4\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694."),t(),n(3,"p"),o(4,"\uD68C\uC6D0\uB2D8\uC5D0 \uB300\uD574\uC11C \uC54C\uB824\uC8FC\uC138\uC694."),t()(),n(5,"form",5)(6,"div",6)(7,"label",7),o(8,"\uB2C9\uB124\uC784"),t(),d(9,"input",8),t(),n(10,"div",9)(11,"label",10),o(12,"\uC790\uAE30\uC18C\uAC1C"),t(),d(13,"textarea",11),t()(),n(14,"app-button",12),p("click",function(){m(e);let u=C();return s(u.setStep(2))}),t()}if(a&2){let e=C();l(5),f("formGroup",e.initForm)}}function q(a,i){if(a&1){let e=g();n(0,"app-tag",17),p("click",function(){let u=m(e).$implicit,U=C(2);return s(U.toggleCategory(u.categoryId))}),t()}if(a&2){let e=i.$implicit,r=C(2);f("tagName",e.name)("appearance",r.categoryFormArray.value.includes(e.categoryId)?"primary":"outline")}}function H(a,i){if(a&1){let e=g();n(0,"div")(1,"p",4),o(2,"\uB0B4 \uD53C\uB4DC\uC5D0 \uAD00\uB9AC\uD558\uACE0 \uC2F6\uC740 \uAD00\uC2EC\uC8FC\uC81C"),t(),n(3,"p"),o(4,"\uC120\uD0DD\uD55C \uC8FC\uC81C\uC5D0 \uB300\uD55C \uC0AC\uC9C4\uCCA9\uC744 \uB9CC\uB4DC\uC2E4 \uC218 \uC788\uC2B5\uB2C8\uB2E4."),t()(),n(5,"div",13),D(6,q,1,2,"app-tag",14,B),t(),d(8,"app-button",15),n(9,"p"),o(10,"\uC120\uD0DD\uD55C \uC8FC\uC81C\uB294 \uB098\uC911\uC5D0 \uB2E4\uC2DC \uC218\uC815\uD560 \uC218 \uC788\uC5B4\uC694!"),t(),n(11,"app-button",16),p("click",function(){m(e);let u=C();return s(u.submit())}),t()}if(a&2){let e=C();l(6),F(e.categoryList)}}var R=class a{initForm;activeStep=b(1);categoryList=[];fb=c(G);categoryApi=c(J);userApi=c(L);router=c(w);get categoryFormArray(){return this.initForm.get("categoryIds")}constructor(){this.initForm=this.fb.group({nickname:"",bio:"",categoryIds:this.fb.array([])}),this.categoryApi.fetchCategories().subscribe(i=>{this.categoryList=i})}setStep(i){this.activeStep.set(i)}toggleCategory(i){let e=this.categoryFormArray.value.findIndex(r=>r===i);e===-1?this.categoryFormArray.push(this.fb.control(i)):this.categoryFormArray.removeAt(e)}submit(){let{nickname:i,bio:e,categoryIds:r}=this.initForm.value,u={nickname:i,bio:e,categoryIds:JSON.stringify(r)};this.userApi.updateProfile(u).subscribe(()=>{this.router.navigateByUrl("/home")})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=_({type:a,selectors:[["onboarding-page"]],decls:12,vars:5,consts:[[1,"flex","flex-col","min-h-screen","gap-5","p-4","bg-secondary5"],[1,"flex","justify-between"],[1,"text-xl","font-bold",3,"click"],[1,"font-bold"],[1,"text-lg","font-bold"],[3,"formGroup"],[1,"flex","flex-col","gap-1"],["for","nickname"],["id","nickname","type","text","placeholder","\uB2C9\uB124\uC784\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694.","formControlName","nickname"],[1,"flex","flex-col","gap-1","mt-2"],["for","bio"],["name","bio","id","bio","placeholder","\uB0B4 \uC18C\uAC1C\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.","formControlName","bio","rows","10",1,"p-4","border","border-black","rounded-lg","resize-none"],["text","\uB2E4\uC74C\uC73C\uB85C",3,"click"],[1,"flex","flex-wrap","w-full","gap-2","p-3","bg-white","border","rounded-lg"],["size","m",1,"cursor-pointer",3,"tagName","appearance"],["text","+ \uC8FC\uC81C \uC81C\uC548\uD558\uAE30","appearance","secondary"],["text","\uC0AC\uC9C4\uCCA9 \uB35C\uC5B4\uB0B4\uB7EC \uAC00\uAE30",3,"click"],["size","m",1,"cursor-pointer",3,"click","tagName","appearance"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return r.setStep(1)}),o(3,"<"),t(),n(4,"span")(5,"span",3),o(6),t(),o(7," /2 "),t()(),x(8,$,15,1)(9,H,12,0),o(10),E(11,"json"),t()),e&2&&(l(6),v(r.activeStep()),l(2),y(r.activeStep()===1?8:9),l(2),A(" ",S(11,3,r.initForm.value),`
`))},dependencies:[M,T,O,P,N,V,I,j,z,h,k],encapsulation:2})};export{R as OnboardingPage};
